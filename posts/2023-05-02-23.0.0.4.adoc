---
layout: post
title: "TITLE"
# Do NOT change the categories section
categories: blog
author_picture: https://avatars3.githubusercontent.com/mbroz2
author_github: https://github.com/mbroz2
seo-title: TITLE - makes sure it ends with - OpenLiberty.io
seo-description: DESCRIPTION
blog_description: DESCRIPTION
open-graph-image: https://openliberty.io/img/twitter_card.jpg
open-graph-image-alt: Open Liberty Logo
---
= TITLE
Michal Broz <https://github.com/mbroz2>
:imagesdir: /
:url-prefix:
:url-about: /
//Blank line here is necessary before starting the body of the post.

// // // // // // // //
// In the preceding section:
// Do not insert any blank lines between any of the lines.
// Do not remove or edit the variables on the lines beneath the author name.
//
// "open-graph-image" is set to OL logo. Whenever possible update this to a more appropriate/specific image (For example if present a image that is being used in the post). However, it
// can be left empty which will set it to the default
//
// "open-graph-image-alt" is a description of what is in the image (not a caption). When changing "open-graph-image" to
// a custom picture, you must provide a custom string for "open-graph-image-alt".
//
// Replace TITLE with the blog post title eg: MicroProfile 3.3 is now available on Open Liberty 20.0.0.4
// Replace mbroz2 with your GitHub username eg: lauracowen
// Replace DESCRIPTION with a short summary (~60 words) of the release (a more succinct version of the first paragraph of the post).
// Replace Michal Broz with your name as you'd like it to be displayed, eg: Laura Cowen
//
// Example post: 2020-04-09-microprofile-3-3-open-liberty-20004.adoc
//
// If adding image into the post add :
// -------------------------
// [.img_border_light]
// image::img/blog/FILE_NAME[IMAGE CAPTION ,width=70%,align="center"]
// -------------------------
// "[.img_border_light]" = This adds a faint grey border around the image to make its edges sharper. Use it around screenshots but not           
// around diagrams. Then double check how it looks.
// There is also a "[.img_border_dark]" class which tends to work best with screenshots that are taken on dark
// backgrounds.
// Change "FILE_NAME" to the name of the image file. Also make sure to put the image into the right folder which is: img/blog
// change the "IMAGE CAPTION" to a couple words of what the image is
// // // // // // // //

RELEASE_SUMMARY

// // // // // // // //
// In the preceding section:
// Leave any instances of `tag::xxxx[]` or `end:xxxx[]` as they are.
//
// Replace RELEASE_SUMMARY with a short paragraph that summarises the release. Start with the lead feature but also summarise what else is new in the release. You will agree which will be the lead feature with the reviewers so you can just leave a placeholder here until after the initial review.
// // // // // // // //

// // // // // // // //
// Replace the following throughout the document:
//   Replace 23.0.0.4 with the version number of Open Liberty, eg: 22.0.0.2
//   Replace 23004 with the version number of Open Liberty wihtout the periods, eg: 22002
// // // // // // // //

In link:{url-about}[Open Liberty] 23.0.0.4:

* <<SUB_TAG_0, Consistently log features on server start>>
* <<CVEs, Security Vulnerability (CVE) Fixes>>
* <<bugs, Notable bug fixes>>


// // // // // // // //
// If there were updates to guides since last release, keep the following, otherwise remove section.
// // // // // // // //
Along with the new features and functions added to the runtime, we’ve also made <<guides, updates to our guides>>.

// // // // // // // //
// In the preceding section:
// Replace the TAG_X with a short label for the feature in lower-case, eg: mp3
// Replace the FEATURE_1_HEADING with heading the feature section, eg: MicroProfile 3.3
// Where the updates are grouped as sub-headings under a single heading 
//   (eg all the features in a MicroProfile release), provide sub-entries in the list; 
//   eg replace SUB_TAG_1 with mpr, and SUB_FEATURE_1_HEADING with 
//   Easily determine HTTP headers on outgoing requests (MicroProfile Rest Client 1.4)
// // // // // // // //

View the list of fixed bugs in link:https://github.com/OpenLiberty/open-liberty/issues?q=label%3Arelease%3A23004+label%3A%22release+bug%22[23.0.0.4].

Check out link:{url-prefix}/blog/?search=release&search!=beta[previous Open Liberty GA release blog posts].


[#run]

// // // // // // // //
// LINKS
//
// OpenLiberty.io site links:
// link:{url-prefix}/guides/maven-intro.html[Maven]
// 
// Off-site links:
//link:https://openapi-generator.tech/docs/installation#jar[Download Instructions]
//
// IMAGES
//
// Place images in ./img/blog/
// Use the syntax:
// image::/img/blog/log4j-rhocp-diagrams/current-problem.png[Logging problem diagram,width=70%,align="center"]
// // // // // // // //

== Run your apps using 23.0.0.4

If you're using link:{url-prefix}/guides/maven-intro.html[Maven], here are the coordinates:

[source,xml]
----
<dependency>
    <groupId>io.openliberty</groupId>
    <artifactId>openliberty-runtime</artifactId>
    <version>23.0.0.4</version>
    <type>zip</type>
</dependency>
----

Or for link:{url-prefix}/guides/gradle-intro.html[Gradle]:

[source,gradle]
----
dependencies {
    libertyRuntime group: 'io.openliberty', name: 'openliberty-runtime', version: '[23.0.0.4,)'
}
----

Or if you're using link:{url-prefix}/docs/latest/container-images.html[container images]:

[source]
----
FROM icr.io/appcafe/open-liberty
----

Or take a look at our link:{url-prefix}/downloads/[Downloads page].

[link=https://stackoverflow.com/tags/open-liberty]
image::img/blog/blog_btn_stack.svg[Ask a question on Stack Overflow, align="center"]

// // // // DO NOT MODIFY THIS COMMENT BLOCK <GHA-BLOG-TOPIC> // // // // 
// Blog issue: https://github.com/OpenLiberty/open-liberty/issues/24985
// Contact/Reviewer: brenthdaniel,ReeceNana
// // // // // // // // 
[#SUB_TAG_0]
== Consistently log features on server start

   </GHA-BLOG-RELATED-FEATURES>

   <GHA-BLOG-TARGET-PERSONA>
Liberty administrators
   </GHA-BLOG-TARGET-PERSONA>

   <GHA-BLOG-SUMMARY>

Liberty will now consistently provide the list of features that were installed every time the server is started. It will also issue messages to identify features that were added or removed since the last start. Previously, the server would list all installed features in some startup scenarios and only list added features in others. 

   
// DO NOT MODIFY THIS LINE. </GHA-BLOG-TOPIC> 


For more details, check the LINK[LINK_DESCRIPTION].

// // // // // // // //
// In the preceding section:
// Replace TAG_X/SUB_TAG_X with the given tag of your secton from the contents list
// Replace SUB_FEATURE_TITLE/FEATURE_X_TITLE with the given title from the contents list 
// Replace FEATURE with the feature name for the server.xml file e.g. mpHealth-1.4
// Replace LINK with the link for extra information given for the feature
// Replace LINK_DESCRIPTION with a readable description of the information
// // // // // // // //

[#CVEs]
== Security vulnerability (CVE) fixes in this release
[cols="5*"]
|===
|CVE |CVSS Score |Vulnerability Assessment |Versions Affected |Notes

|Link[CVE-XXXX-XXXXX]
|Score
|vulnerability
|Affected versions
|Affected Features and other notes
|===
// // // // // // // //
// In the preceding section:
// If there were any CVEs addressed in this release, fill out the table.  For the information, reference https://github.com/OpenLiberty/docs/blob/draft/modules/ROOT/pages/security-vulnerabilities.adoc.  If it has not been updated for this release, reach out to Kristen Clarke or Michal Broz.
// Note: When linking to features, use the 
// `link:{url-prefix}/docs/latest/reference/feature/someFeature-1.0.html[Some Feature 1.0]` format and 
// NOT what security-vulnerabilities.adoc does (feature:someFeature-1.0[])
//
// If there are no CVEs fixed in this release, replace the table with: 
// "There are no security vulnerability fixes in Open Liberty [23.0.0.4]."
// // // // // // // //
For a list of past security vulnerability fixes, reference the link:{url-prefix}/docs/latest/security-vulnerabilities.html[Security vulnerability (CVE) list].


[#bugs]
== Notable bugs fixed in this release


We’ve spent some time fixing bugs. The following sections describe just some of the issues resolved in this release. If you’re interested, here’s the  link:https://github.com/OpenLiberty/open-liberty/issues?q=label%3Arelease%3A23004+label%3A%22release+bug%22[full list of bugs fixed in 23.0.0.4].

* link:https://github.com/OpenLiberty/open-liberty/issues/24958[Configurable option for FileUpload]
+

* link:https://github.com/OpenLiberty/open-liberty/issues/24955[PH53918: UnsupportedOperationException is thrown after upgrading to 22.0.0.10 or later ]
+

PH53918 has been assigned
A customer reported that after moving from 22.0.0.9 on z/OS to 22.0.0.12 both running on the same Java 11 level (11.0.17):
```
java.lang.UnsupportedOperationException: Hardware error, function getPrivateExponent has no meaning in hardware
at ibm.crypto.hdwrcca/com.ibm.crypto.hdwrCCA.provider.RSAPrivateHWKey.getPrivateExponent(RSAPrivateHWKey.java:86)
at com.ibm.ws.crypto.ltpakeyutil.LTPACrypto.rsaKey(LTPACrypto.java:1058)
at com.ibm.ws.crypto.ltpakeyutil.LTPADigSignature.generateRSAKeys(LTPADigSignature.java:49)
at com.ibm.ws.crypto.ltpakeyutil.LTPADigSignature.generateLTPAKeyPair(LTPADigSignature.java:76)
at com.ibm.ws.crypto.ltpakeyutil.LTPAKeyFileUtilityImpl.generateLTPAKeys(LTPAKeyFileUtilityImpl.java:50)
at com.ibm.ws.security.token.ltpa.internal.LTPAKeyFileCreatorImpl.createLTPAKeysFile(LTPAKeyFileCreatorImpl.java:62)
```
+
Between 22.0.0.9 and 22.0.0.12, the following code change is merged into the code area. 
https://github.com/OpenLiberty/open-liberty/pull/22340

* link:https://github.com/OpenLiberty/open-liberty/issues/24938[SOAP 1.1 Web service request to SOAP 1. Provider acting as gateway fails when wsAtomicTransaction feature is enabled]
+
A SOAP 1.1 JAX-WS Web service request to SOAP1.2 Provider - ie implements Provider<SOAPMessage> and has @BindingType(SOAPBinding.SOAP12HTTP_BINDING) -  acting as gateway fails when wsAtomicTransaction feature is enabled.  It does not fail for SOAP 1.2 requests and does not fail for either SOAP 1.1 or SOAP1.2 requests when the wsAtomicTransaction feature is not present.
+
If there is a stack trace, please include the FULL stack trace (without any `[internal classes]` lines in it). To find the full stack trace, you may need to check in `$WLP_OUTPUT_DIR/messages.log`
+
No stack - causal failure is silent.

* link:https://github.com/OpenLiberty/open-liberty/issues/24915[Server hangs at startup when enabling trace specification: com.ibm.ws.*=all]
+
When the server is started with `com.ibm.ws.*=all` trace specification, the server hangs, because the application was not loaded yet. This maybe caused by the traces in the `LogRecordContext.Extension`.

* link:https://github.com/OpenLiberty/open-liberty/issues/24804[Encrypted value for internalClientSecret within oauthProvider does not work]
+
**internalClientSecret** and **internalClientId** parameters values within oauthProvider configuration of OpenID Connect Server are used to generate tokens for PersonalTokenManagement and UsersTokenManagement UI pages. Our customers use this feature for Non Web clients. However, if we encrypt the internalClientSecret value via securityUtility , the PersonalTokenManagement/UsersTokenManagement UI pages no longer works. Logs complain that ClientId and Secret are invalid.
+
**clientSecretEncoding** parameter, default seems to be **xor**, this does not seem to work for internalClientSecret attribute.

* link:https://github.com/OpenLiberty/open-liberty/issues/24793[JSP Options to pick up web-ext jsp-attribute values on start up (honor disableTldSearch to improve app start up time)]
+
The JSP Engine does not pick up the jsp-attributes during the initial stage of application start-up when set via `ibm-web-ext.xml` or via the `server.xml`.   However, later phases of the start-up _did_ pick up the jsp-attributes. 
+
This inadvertently slowed application start up because  `disableTldSearch` (default - true) would not be registered when set to false and thus, the JSP Engine would continue it's time consuming search for TLDs in the various application libraries and other locations. 

* link:https://github.com/OpenLiberty/open-liberty/issues/24730[Cleanup non-daemon threads at the server shutdown]
+
When Liberty server is created/started within another existing JVM (parent) and within that parent process/server/stack 's own address space (i.e. CICS product), non-daemon threads from Liberty (created for AsyncServlet request) can prevent the shutdown of the parent JVM.  The Liberty server itself is stopped successfully.
 
This happens particularly when any of the AsynServlet was used by any deployed application in Liberty.

* link:https://github.com/OpenLiberty/open-liberty/issues/24683[Port MYFACES-4594 ]
+

* link:https://github.com/OpenLiberty/open-liberty/issues/24598[[JPA 2.1\] EclipseLink: Deliver Issue #1823]
+

* link:https://github.com/OpenLiberty/open-liberty/issues/24585[Insufficient Infinispan cache creation for Liberty httpSessionCache]
+

* link:https://github.com/OpenLiberty/open-liberty/issues/24578[Application can't recover from exceptions thrown during startup]
+

* link:https://github.com/OpenLiberty/open-liberty/issues/24565[RegistryHelper.getUserRegistry throws an IllegalStateException if no user registries are present]
+
`IllegalStateException` thrown from `RegistryHelper.getUserRegistry(null)` if no user registries are defined in `server.xml` (or its includes)
+
```
[3/6/23 14:29:26:088 GMT] 00000066 com.ibm.ws.security.internal.SecurityServiceImpl             E CWWKS0005E: A configuration exception has occurred. No available UserRegistry service.
[3/6/23 14:29:26:091 GMT] 00000066 LogService-304-com.ibm.cics.wlp.link.impl                    E CWWKE0701E: [com.ibm.cics.wlp.link.impl.connector] [ECBListener] @Error: waitAndDispatchRequest() - Unexpected exception occured java.lang.IllegalStateException: CWWKS0005E: A configuration exception has occurred. No available UserRegistry service.
        at com.ibm.ws.security.internal.SecurityServiceImpl.autoDetectService(SecurityServiceImpl.java:405)
        at com.ibm.ws.security.internal.SecurityServiceImpl.getUserRegistryService(SecurityServiceImpl.java:544)
        at com.ibm.ws.security.intfc.internal.WSSecurityServiceImpl.getActiveUserRegistry(WSSecurityServiceImpl.java:169)
        at com.ibm.ws.security.intfc.internal.WSSecurityServiceImpl.getUserRegistry(WSSecurityServiceImpl.java:66)
        at com.ibm.wsspi.security.registry.RegistryHelper.getUserRegistry(RegistryHelper.java:71)
        at com.ibm.cics.wlp.link.security.CICSSecurityContextServiceImpl.createCICSSecurityContext(CICSSecurityContextServiceImpl.java:67)
        at com.ibm.cics.wlp.link.impl.CICSSecurityContextFactory.createCICSSecurityContext(CICSSecurityContextFactory.java:104)
        at com.ibm.cics.wlp.link.impl.connector.ECBListener.handleLinkRequest(ECBListener.java:245)
        at com.ibm.cics.wlp.link.impl.connector.ECBListener.waitAndDispatchRequest(ECBListener.java:205)
        at com.ibm.cics.wlp.link.impl.connector.ECBListener.run(ECBListener.java:167)
        at java.lang.Thread.run(Thread.java:825)
```

* link:https://github.com/OpenLiberty/open-liberty/issues/24469[Java 11 NoSuchAlgorithmException SHA1PRNG when FIPS enabled TS012071744]
+

* link:https://github.com/OpenLiberty/open-liberty/issues/24323[sipcontainer should stop parsing non-utf8 characters when acceptNonUtf8Bytes is set to false]
+

* link:https://github.com/OpenLiberty/open-liberty/pull/24004[allow more output to response following exception in forward based on wc parm]
+

* link:https://github.com/OpenLiberty/open-liberty/issues/23827[Exception thrown from dispatch forward can cause inconsistant error-page handling compared to other implementations ]
+
If a generic Exception is thrown from a dispatch forwarded JSP and is caught by the caller, Liberty limits what you can subsequently write in the response.  In Tomcat and tWAS, you can still write text of any length to the servlet response.   Liberty currently limits you to one buffer, whether hit by reaching setBufferSize() limit (default 4k) or a flush. 
+
The problem can be avoided by either calling setBufferSize() before the dispatch forward setting a size large enough for the additional text to be written, 
or,
changing the Exception to a ServletException.  Throwing ServletException is not subject to the single buffer limit in Liberty.


// // // // // // // //
// In the preceding section:
// For this section ask either Michal Broz or Tom Evans or the #openliberty-release-blog channel for Notable bug fixes in this release.
// Present them as a list in the order as provided, linking to the issue and providing a short description of the bug and the resolution.
// If the issue on Github is missing any information, leave a comment in the issue along the lines of:
// "@[issue_owner(s)] please update the description of this `release bug` using the [bug report template](https://github.com/OpenLiberty/open-liberty/issues/new?assignees=&labels=release+bug&template=bug_report.md&title=)" 
// Feel free to message the owner(s) directly as well, especially if no action has been taken by them.
// For inspiration about how to write this section look at previous blogs e.g- 20.0.0.10 or 21.0.0.12 (https://openliberty.io/blog/2021/11/26/jakarta-ee-9.1.html#bugs)
// // // // // // // //


// // // // // // // //
// If there were updates to guides since last release, keep the following, otherwise remove section.
// Check with Gilbert Kwan, otherwise Michal Broz or YK Chang
// // // // // // // //
[#guides]
== New and updated guides since the previous release
As Open Liberty features and functionality continue to grow, we continue to add link:https://openliberty.io/guides/?search=new&key=tag[new guides to openliberty.io] on those topics to make their adoption as easy as possible.  Existing guides also receive updates to address any reported bugs/issues, keep their content current, and expand what their topic covers.

// // // // // // // //
// In the following section, list any new guides, or changes/updates to existing guides.  
// The following is an example of how the list can be structured (similar to the bugs section):
// * link:{url-prefix}/guides/[new/updated guide].html[Guide Title]
//  ** Description of the guide or the changes made to the guide.
// // // // // // // //


== Get Open Liberty 23.0.0.4 now

Available through <<run,Maven, Gradle, Docker, and as a downloadable archive>>.
