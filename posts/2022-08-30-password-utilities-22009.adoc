---
layout: post
title: "Stand-alone user registries are no longer forcefully federated with the new Password Utilities 1.1 feature now in Open Liberty 22.0.0.9"
# Do NOT change the categories section
categories: blog
author_picture: https://avatars3.githubusercontent.com/reecenana
author_github: https://github.com/reecenana
seo-title: Stand-alone user registries are no longer forcefully federated with the new Password Utilities 1.1 feature now in Open Liberty 22.0.0.9 - OpenLiberty.io
seo-description: Part of the core edition, password Utilities 1.1 has been introduced in order to no longer start the federatedRegistry-1.0 feature or the JCA / connectors features.
blog_description: Part of the core edition, password Utilities 1.1 has been introduced in order to no longer start the federatedRegistry-1.0 feature or the JCA / connectors features.
open-graph-image: https://openliberty.io/img/twitter_card.jpg
---
= Stand-alone user registries are no longer forcefully federated with the new Password Utilities 1.1 feature now in Open Liberty 22.0.0.9
Reece Nana <https://github.com/reecenana>
:imagesdir: /
:url-prefix:
:url-about: /
//Blank line here is necessary before starting the body of the post.

// // // // // // // //
// In the preceding section:
// Do not insert any blank lines between any of the lines.
// Do not remove or edit the variables on the lines beneath the author name.
//
// "open-graph-image" is set to OL logo. Whenever possible update this to a more appriopriate/specific image (For example if present a image that is being used in the post). However, it
// can be left empty which will set it to the default
//
// Replace TITLE with the blog post title eg: MicroProfile 3.3 is now available on Open Liberty 20.0.0.4
// Replace mbroz2 with your GitHub username eg: lauracowen
// Replace DESCRIPTION with a short summary (~60 words) of the release (a more succinct version of the first paragraph of the post).
// Replace Michal Broz with your name as you'd like it to be displayed, eg: Laura Cowen
//
// Example post: 2020-04-09-microprofile-3-3-open-liberty-20004.adoc
//
// If adding image into the post add :
// -------------------------
// [.img_border_light]
// image::img/blog/FILE_NAME[IMAGE CAPTION ,width=70%,align="center"]
// -------------------------
// "[.img_border_light]" = This adds a faint grey border around the image to make its edges sharper. Use it around screenshots but not           
// around diagrams. Then double check how it looks.
// There is also a "[.img_border_dark]" class which tends to work best with screenshots that are taken on dark
// backgrounds.
// Change "FILE_NAME" to the name of the image file. Also make sure to put the image into the right folder which is: img/blog
// change the "IMAGE CAPTION" to a couple words of what the image is
// // // // // // // //

Open Liberty 22.0.0.9 has arrived with Password Utilities 1.1. Part of the core edition, password Utilities 1.1 has been introduced in order to no longer start the federatedRegistry-1.0 feature or the JCA / connectors features.

// // // // // // // //
// In the preceding section:
// Leave any instances of `tag::xxxx[]` or `end:xxxx[]` as they are.
//
// Replace RELEASE_SUMMARY with a short paragraph that summarises the release. Start with the lead feature but also summarise what else is new in the release. You will agree which will be the lead feature with the reviewers so you can just leave a placeholder here until after the initial review.
// // // // // // // //

// // // // // // // //
// Replace the following throughout the document:
//   Replace 22.0.0.9 with the version number of Open Liberty, eg: 22.0.0.2
//   Replace 22009S with the version number of Open Liberty wihtout the periods, eg: 22002
// // // // // // // //

In link:{url-about}[Open Liberty] 22.0.0.9:

* <<SUB_TAG_0, Password Utilities 1.1>>
// * <<CVEs, Security Vulnerability (CVE) Fixes>>
* <<bugs, Notable bug fixes>>


// // // // // // // //
// If there were updates to guides since last release, keep the following, otherwise remove section.
// // // // // // // //
Along with the new features and functions added to the runtime, we’ve also made <<guides, updates to our guides>>.

// // // // // // // //
// In the preceding section:
// Replace the TAG_X with a short label for the feature in lower-case, eg: mp3
// Replace the FEATURE_1_HEADING with heading the feature section, eg: MicroProfile 3.3
// Where the updates are grouped as sub-headings under a single heading 
//   (eg all the features in a MicroProfile release), provide sub-entries in the list; 
//   eg replace SUB_TAG_1 with mpr, and SUB_FEATURE_1_HEADING with 
//   Easily determine HTTP headers on outgoing requests (MicroProfile Rest Client 1.4)
// // // // // // // //

View the list of fixed bugs in link:https://github.com/OpenLiberty/open-liberty/issues?q=label%3Arelease%3A22009+label%3A%22release+bug%22+[22.0.0.9].

[#run]

// // // // // // // //
// LINKS
//
// OpenLiberty.io site links:
// link:{url-prefix}/guides/maven-intro.html[Maven]
// 
// Off-site links:
//link:https://openapi-generator.tech/docs/installation#jar[Download Instructions]
//
// IMAGES
//
// Place images in ./img/blog/
// Use the syntax:
// image::/img/blog/log4j-rhocp-diagrams/current-problem.png[Logging problem diagram,width=70%,align="center"]
// // // // // // // //

== Run your apps using 22.0.0.9

If you're using link:{url-prefix}/guides/maven-intro.html[Maven], here are the coordinates:

[source,xml]
----
<dependency>
    <groupId>io.openliberty</groupId>
    <artifactId>openliberty-runtime</artifactId>
    <version>22.0.0.9</version>
    <type>zip</type>
</dependency>
----

Or for link:{url-prefix}/guides/gradle-intro.html[Gradle]:

[source,gradle]
----
dependencies {
    libertyRuntime group: 'io.openliberty', name: 'openliberty-runtime', version: '[22.0.0.9,]'
}
----

Or if you're using Docker:

[source]
----
FROM open-liberty
----

Or take a look at our link:{url-prefix}/downloads/[Downloads page].

[link=https://stackoverflow.com/tags/open-liberty]
image::img/blog/blog_btn_stack.svg[Ask a question on Stack Overflow, align="center"]

// https://github.com/OpenLiberty/open-liberty/issues/21962
[#SUB_TAG_0]
== Password Utilities 1.1

The new passwordUtilities-1.1 feature has been created to no longer start the federatedRegistry-1.0 feature or the JCA / connectors features. The new feature is part of core edition, whereas the passwordUtilities-1.0 feature is part of base edition.

Stand-alone user registries will no longer be forcefully federated, which sometimes results in slightly different behavior. The password utilities APIs can now be used in core edition.

To make the update work, add the passwordUtilities-1.1 feature to the list of features in the `server.xml` file:

[source,xml]
----
<featureManager>
    <feature>passwordUtilities-1.1</feature>
</featureManager>
----

You can find out more information regarding link:https://openliberty.io/docs/latest/reference/feature/passwordUtilities-1.0.html[passwordUtilities-1.0] and its recent updates here. 

// // // // // // // //
// In the preceding section:
// Replace TAG_X/SUB_TAG_X with the given tag of your secton from the contents list
// Replace SUB_FEATURE_TITLE/FEATURE_X_TITLE with the given title from the contents list 
// Replace FEATURE with the feature name for the server.xml file e.g. mpHealth-1.4
// Replace LINK with the link for extra information given for the feature
// Replace LINK_DESCRIPTION with a readable description of the information
// // // // // // // //

[#CVEs]
== Security vulnerability (CVE) fixes in this release
// [cols="5*"]
// |===
// |CVE |CVSS Score |Vulnerability Assessment |Versions Affected |Notes

// |Link[CVE-XXXX-XXXXX]
// |Score
// |vulnerability
// |Affected versions
// |Affected Features and other notes
// |===

// // // // // // // //
// In the preceding section:
// If there were any CVEs addressed in this release, fill out the table.  For the information, reference https://github.com/OpenLiberty/docs/blob/draft/modules/ROOT/pages/security-vulnerabilities.adoc.  If it has not been updated for this release, reach out to Kristen Clarke or Michal Broz.
// Note: When linking to features, use the 
// `link:{url-prefix}/docs/latest/reference/feature/someFeature-1.0.html[Some Feature 1.0]` format and 
// NOT what security-vulnerabilities.adoc does (feature:someFeature-1.0[])
//
// If there are no CVEs fixed in this release, replace the table with: 
// "There are no security vulnerability fixes in Open Liberty [22.0.0.9]."
// // // // // // // //

There are no security vulnerability fixes for this release. 
For a list of past security vulnerability fixes, reference the link:{url-prefix}/docs/latest/security-vulnerabilities.html[Security vulnerability (CVE) list].


[#bugs]
== Notable bugs fixed in this release


We’ve spent some time fixing bugs. The following sections describe just some of the issues resolved in this release. If you’re interested, here’s the  link:https://github.com/OpenLiberty/open-liberty/issues?q=label%3Arelease%3A22009+label%3A%22release+bug%22+[full list of bugs fixed in 22.0.0.9].

* link:https://github.com/OpenLiberty/open-liberty/issues/22040[Invalid character warning for colon in WorkQueueManagerImplMBeanWrapper objectName ]
+
A colon character in the Apache CXF WorkQueueManagerImplMBeanWrapper class's objectName creates a warning and a javax.management.MalformedObjectNameException caused by the invalid ':' character when javax.management.ObjectName.construct is called. This issue occurs in Open Liberty 22.0.0.8 when it did not appear in 22.0.0.7.
+
Find the link:https://github.com/OpenLiberty/open-liberty/files/9295104/messages.log[messages.log] here. 
+
A fix to this issue was made where by the removal of an invalid ":" chacter from uri base in the bus id resulted in no additional warning messages. More information can be found in link:https://github.com/OpenLiberty/open-liberty/pull/22069[#22069]



* link:https://github.com/OpenLiberty/open-liberty/issues/22012[CXF property cxf.ignore.unsupported.policy is not processed correctly in Liberty 22.0.0.8]
+
In Liberty 22.0.0.8, when the JVM system property "cxf.ignore.unsupported.policy" is set to true, some unsupported policy assertions in the WSDL file are not ignored as expected.
+
This has since been resolved to now process link:https://github.com/OpenLiberty/open-liberty/pull/22013[`cxf.ignore.unsupported.policy` correctly]. Changes were tested manually on a local system using unsupported policy assertions in WSDL file packaged in a simple JAX-WS Web services application.


* link:https://github.com/OpenLiberty/open-liberty/issues/21973[Expiration fields are not compared in an LTPA Token]
+
When there are two expiration times present in an LTPA token, the times should be compared to be within an acceptable difference. 
+
There have been changes made to handling LTPAToken2 resulting in a fix to the issue. More information about these chnages can be found in this issue link:https://github.com/OpenLiberty/open-liberty/pull/21883[#21883] 


* link:https://github.com/OpenLiberty/open-liberty/issues/21955[Liberty does not provide exported packages for java.* packages at runtime in the OSGi framework insteance]
+
Starting with OSGi R7 Core specification, bundles are allowed to import (using `Import-Package` header) packages from `java.*` (e.g. `java.io`).  When installing a liberty feature that includes a bundle that imports a `java.*` package the bundle cannot resolve.  The reason the bundle cannot resolve is because Liberty does not configure the OSGi framework (Equinox in this case) to export the `java.*` packages available in the running JVM.
+
Multiple changes had been requested at link:https://github.com/OpenLiberty/open-liberty/pull/16188[#16188] in order to fix the issue and subsequently have now been resolved. 


* link:https://github.com/OpenLiberty/open-liberty/issues/21937[MP Fault Tolerance 1.x can log an FFDC when a method times out at the same time as it completes]
+
When a method times out at the same time as it completes, an FFDC may be logged. Aside from the FFDC being logged, there are no other symptoms.
+
There has been a fix to tiemout cancellation race condition which resolves:
+
A lock shared between stop() and timeout(), but if the timeout
has fired, the timeout future is not complete at the point where
timeout() releases the lock. This gives stop() a chance to run and
attempt to cancel the future. Doing this results in an
InterruptedException which causes and FFDC to be emitted by the policy
executor.
+
By checking the value of timedout, it avoids trying to cancel the
timeout task if the timeout has already fired and interrupted our
thread. There has also been a package added to the FT trace group.
+ 
Both he fix to the timeout cancellation race conditon and adding the package to trace group has resolved the issue of link:https://github.com/OpenLiberty/open-liberty/pull/21936[MP Fault Tolerance 1.x]. 


* link:https://github.com/OpenLiberty/open-liberty/issues/21880[OpenAPI 2.0+ throws error at startup]
+
After enabling mpOpenApi-2.0 or mpOpenApi-3.0. at startup, an error which can be found 
link:https://github.com/OpenLiberty/open-liberty/issues/21880[here] occurs because the MP OpenAPI implementation tries to get a MicroProfile Config object before the MicroProfile Config feature has initialized.
+
This issue was fixed by only calling Config.getConfig() when needed, rather than when
the component starts to avoid occasional cases where the config component hasn't initialized yet. The fixes around found in link:https://github.com/OpenLiberty/open-liberty/pull/21881[#21881]


* link:https://github.com/OpenLiberty/open-liberty/issues/21858[Multiple protocols not always getting honored with the IBMJDK]
+
When the IBM JDK is being used not all protocols in a list of protocols will get honored.
+
By changing to get instance with the default protocol and use the supported ciphers list a subsequent link:https://github.com/OpenLiberty/open-liberty/pull/21859[fix] to multiple protocols with the IBM JDK resolves the issue. 

* link:https://github.com/OpenLiberty/open-liberty/issues/21845[featureUtility - Not decoding repository passwords when executing]
+
When executing the featureUtility on `kernel-slim` images when ever we set overrides for the mavenCentralMirror or a secondary repository and we use the securityUtility to {xors}, {hash} or {aes} encode the passwords, authentication is failing to those end servers with http 401 forbidden. When replacing it with the actual passwords in `plain text`, it works again.
+
Authentications were  configured when testConnection(repository) was called resulting in the issue being resolved. More information on the decoding of encoded passwords from properties file can be found link:https://github.com/OpenLiberty/open-liberty/pull/21853[here].


* link:https://github.com/OpenLiberty/open-liberty/issues/21737[Combine with MicroProfile OpenAPI: Example of date-time in Schema can not display this format "YYYY-MM-DDTHH:MM:SSZ", will report "OrderedMap" or this  "YYYY-MM-DDTHH:MM:SS.MSZ" format ]
+
 Based on open liberty and MicroProfile OpenAPI [2.0.1], to display examples for date-time field as this format  "YYYY-MM-DDTHH:MM:SSZ" in the web html, the Schema is defined as below in Java code:
+
[source, java]
----
@Schema(name = "created_at", format = "date-time")
@Schema(name = "last_updated_at", format = "date-time", example = "2018-03-20T09:12:28Z")
@Schema(name = "started_at", format = "string", example = "2018-03-20T09:12:28Z")
----
+
However after code is built and deployed to local-host liberty, the Schema displays OrderedMap error. In addition to an example value displaying "YYYY-MM-DDTHH:MM:SS.MSSZ", and for other examples, it will display {}. 
+
This issue can be resolved by updating to `mpOpenAPI-2.0` or later which does not have this issue. Using the `mpOpenAPI-2.0`, `mpOpenAPI-3.0` or `mpOpenAPI-3.1` feature in your server.xml should fix the issue.

* link:https://github.com/OpenLiberty/open-liberty/issues/21126[Update GSON library dependency to 2.9.0]
+
Updates to the usage of GSON to version 2.9.0 were needed for library dependency. This issue has since been reviewed and updated. More information about the update can be found link:https://github.com/OpenLiberty/open-liberty/pull/21153[here]. 



// // // // // // // //
// In the preceding section:
// For this section ask either Michal Broz or Tom Evans or the #openliberty-release-blog channel for Notable bug fixes in this release.
// Present them as a list in the order as provided, linking to the issue and providing a short description of the bug and the resolution.
// If the issue on Github is missing any information, leave a comment in the issue along the lines of:
// "@[issue_owner(s)] please update the description of this `relesae bug` using the [bug report template](https://github.com/OpenLiberty/open-liberty/issues/new?assignees=&labels=release+bug&template=bug_report.md&title=)" 
// Feel free to message the owner(s) directly as well, especially if no action has been taken by them.
// For inspiration about how to write this section look at previous blogs e.g- 20.0.0.10 or 21.0.0.12 (https://openliberty.io/blog/2021/11/26/jakarta-ee-9.1.html#bugs)
// // // // // // // //


// // // // // // // //
// If there were updates to guides since last release, keep the following, otherwise remove section.
// Check with Gilbert Kwan, otherwise Michal Broz or YK Chang
// // // // // // // //
[#guides]
== New and updated guides since the previous release
As Open Liberty features and functionality continue to grow, we continue to add link:https://openliberty.io/guides/?search=new&key=tag[new guides to openliberty.io] on those topics to make their adoption as easy as possible.  Existing guides also receive updates in order to address any reported bugs/issues, keep their content current, and expand what their topic covers.

// // // // // // // //
// In the following section, list any new guides, or changes/updates to existing guides.  
// The following is an example of how the list can be structured (similar to the bugs section):
// * link:{url-prefix}/guides/[new/updated guide].html[Guide Title]
//  ** Description of the guide or the changes made to the guide.
// // // // // // // //


== Get Open Liberty 22.0.0.9 now

Available through <<run,Maven, Gradle, Docker, and as a downloadable archive>>.
