---
layout: post
title: "Application rollout strategies in containerization platform"
categories: blog
author_picture: https://avatars3.githubusercontent.com/shamjithantholi
author_github: https://github.com/shamjithantholi
seo-title: Application rollout strategies in containerization platform
seo-description: A short explanation about different application rollout strategies in kubernetes platform.
blog_description: A short explanation about different application rollout strategies in kubernetes platform
open-graph-image: https://openliberty.io/img/blog/liberty-devops-generic-architecture.png
---
= Application rollout strategies in containerization platform
Shamjith Antholi <https://github.com/shamjithantholi>
:imagesdir: /
:url-prefix:
:url-about: /

[#Intro]

A deployment is a process of installing a new version of an application or the associated component. A well defined deployment strategy is important to ensure the smooth transition of application from old version to new version. Various other factors like application downtime are an important factor in deployment process.

On a containerized environment, a 'Deployment' object is the key controller in the deployment. A 'Deployment' is a declarative resource object that defines the desired state for your program. A Deployment object compares the current program state to the desired state, desired state like how many pods are currently running, container image version etc. If they do not match, the Deployment-controller automatically alters the state to match. Kubernetes uses the 'ReplicaSet' to maintain the desired status of the 'Deployment'. If 'Deployment' objects are not used to manage the pod deployments, then the user will have to manually manage any changes in the pods individually, for example, user has to individually check any startup issues on all the pod instances, any rollback has to be managed individually.  

Kubernetes is offering different deployment strategies which can be used based on the business requirements, this blog is discussing below given a few.

              1. Recreate Deployment
              2. Rolling Deployment
              3. Blue/Green Deployment 
              4. Canary Deployment
              5. A/B testing
              6. Shadow deployment

== Rollout strategies explained

=== Recreate Deployment
Recreate deployment strategy use 'all-or-nothing' approach in deployment. In this strategy, all the running container instances are brought down before attempting the new version deployment. In this deployment strategy, the application state is entirely renewed and it's best for development environment. This deployment strategy involves significant application downtime comparing any other deployment strategy. The total application downtime needed should be measured as the duration required to shutdown and reboot the application pods.

The code snippet required to add in deployment yaml to enable this deployment method is as given below

                  spec:
                    replicas: 2
                    strategy:
                      type: Recreate

=== Rolling deployment
Rolling deployment follows the pattern of slowly rolling out a new version of an application by replacing old instances one after the other until all the new instances are rolled out. This deployment model is also called as incremental deployment. This type of deployment follows an approach of creating a new instance and add it to the running instance pool, when that instance is added to the Load balancer without any issues, one of the old running instance is removed from the pool, this adding and removing excercise is continuied until all the instances are replaced with a new version. 

This deployment strategy provides various additional options like given below

            max batch size: Number of concurrent instances to roll out.
            Max surge: How many instances to add in addition of the current amount.
            Max unavailable: Number of unavailable instances during the rolling update procedure.

            replicas: 2  
            strategy:
                type: RollingUpdate
                rollingUpdate:
                  maxSurge: 1
                  maxUnavailable: 0


#Strategy 2 explained with pros and cons and  along with architecture diagram

#Strategy n explained with pros and cons and  along with architecture diagram


== Conclusion


