---
layout: post
title: "TITLE"
# Do NOT change the categories section
categories: blog
author_picture: https://avatars3.githubusercontent.com/mbroz2
author_github: https://github.com/mbroz2
seo-title: TITLE - makes sure it ends with - OpenLiberty.io
seo-description: DESCRIPTION
blog_description: DESCRIPTION
open-graph-image: https://openliberty.io/img/twitter_card.jpg
open-graph-image-alt: Open Liberty Logo
---
= TITLE
Michal Broz <https://github.com/mbroz2>
:imagesdir: /
:url-prefix:
:url-about: /
//Blank line here is necessary before starting the body of the post.

// // // // // // // //
// In the preceding section:
// Do not insert any blank lines between any of the lines.
// Do not remove or edit the variables on the lines beneath the author name.
//
// "open-graph-image" is set to OL logo. Whenever possible update this to a more appropriate/specific image (For example if present a image that is being used in the post). However, it
// can be left empty which will set it to the default
//
// "open-graph-image-alt" is a description of what is in the image (not a caption). When changing "open-graph-image" to
// a custom picture, you must provide a custom string for "open-graph-image-alt".
//
// Replace TITLE with the blog post title eg: MicroProfile 3.3 is now available on Open Liberty 20.0.0.4
// Replace mbroz2 with your GitHub username eg: lauracowen
// Replace DESCRIPTION with a short summary (~60 words) of the release (a more succinct version of the first paragraph of the post).
// Replace Michal Broz with your name as you'd like it to be displayed, eg: Laura Cowen
//
// Example post: 2020-04-09-microprofile-3-3-open-liberty-20004.adoc
//
// If adding image into the post add :
// -------------------------
// [.img_border_light]
// image::img/blog/FILE_NAME[IMAGE CAPTION ,width=70%,align="center"]
// -------------------------
// "[.img_border_light]" = This adds a faint grey border around the image to make its edges sharper. Use it around screenshots but not           
// around diagrams. Then double check how it looks.
// There is also a "[.img_border_dark]" class which tends to work best with screenshots that are taken on dark
// backgrounds.
// Change "FILE_NAME" to the name of the image file. Also make sure to put the image into the right folder which is: img/blog
// change the "IMAGE CAPTION" to a couple words of what the image is
// // // // // // // //

RELEASE_SUMMARY

// // // // // // // //
// In the preceding section:
// Leave any instances of `tag::xxxx[]` or `end:xxxx[]` as they are.
//
// Replace RELEASE_SUMMARY with a short paragraph that summarises the release. Start with the lead feature but also summarise what else is new in the release. You will agree which will be the lead feature with the reviewers so you can just leave a placeholder here until after the initial review.
// // // // // // // //

// // // // // // // //
// Replace the following throughout the document:
//   Replace 23.0.0.2 with the version number of Open Liberty, eg: 22.0.0.2
//   Replace 23002 with the version number of Open Liberty wihtout the periods, eg: 22002
// // // // // // // //

In link:{url-about}[Open Liberty] 23.0.0.2:

* <<SUB_TAG_0, Enabled the cloud-hosted version of the "Streaming messages between client and server services using gRPC" guide>>
* <<SUB_TAG_1, Testing database connections in Open Liberty apps using Admin Center>>
* <<SUB_TAG_2, Blog: New --timeout option for command: server stop>>
* <<CVEs, Security Vulnerability (CVE) Fixes>>
* <<bugs, Notable bug fixes>>


// // // // // // // //
// If there were updates to guides since last release, keep the following, otherwise remove section.
// // // // // // // //
Along with the new features and functions added to the runtime, weâ€™ve also made <<guides, updates to our guides>>.

// // // // // // // //
// In the preceding section:
// Replace the TAG_X with a short label for the feature in lower-case, eg: mp3
// Replace the FEATURE_1_HEADING with heading the feature section, eg: MicroProfile 3.3
// Where the updates are grouped as sub-headings under a single heading 
//   (eg all the features in a MicroProfile release), provide sub-entries in the list; 
//   eg replace SUB_TAG_1 with mpr, and SUB_FEATURE_1_HEADING with 
//   Easily determine HTTP headers on outgoing requests (MicroProfile Rest Client 1.4)
// // // // // // // //

View the list of fixed bugs in link:https://github.com/OpenLiberty/open-liberty/issues?q=label%3Arelease%3A23002+label%3A%22release+bug%22[23.0.0.2].

Check out link:{url-prefix}/blog/?search=release&search!=beta[previous Open Liberty GA release blog posts].


[#run]

// // // // // // // //
// LINKS
//
// OpenLiberty.io site links:
// link:{url-prefix}/guides/maven-intro.html[Maven]
// 
// Off-site links:
//link:https://openapi-generator.tech/docs/installation#jar[Download Instructions]
//
// IMAGES
//
// Place images in ./img/blog/
// Use the syntax:
// image::/img/blog/log4j-rhocp-diagrams/current-problem.png[Logging problem diagram,width=70%,align="center"]
// // // // // // // //

== Run your apps using 23.0.0.2

If you're using link:{url-prefix}/guides/maven-intro.html[Maven], here are the coordinates:

[source,xml]
----
<dependency>
    <groupId>io.openliberty</groupId>
    <artifactId>openliberty-runtime</artifactId>
    <version>23.0.0.2</version>
    <type>zip</type>
</dependency>
----

Or for link:{url-prefix}/guides/gradle-intro.html[Gradle]:

[source,gradle]
----
dependencies {
    libertyRuntime group: 'io.openliberty', name: 'openliberty-runtime', version: '[23.0.0.2,)'
}
----

Or if you're using Docker:

[source]
----
FROM open-liberty
----

Or take a look at our link:{url-prefix}/downloads/[Downloads page].

[link=https://stackoverflow.com/tags/open-liberty]
image::img/blog/blog_btn_stack.svg[Ask a question on Stack Overflow, align="center"]

// // // // DO NOT MODIFY THIS COMMENT BLOCK <GHA-BLOG-TOPIC> // // // // 
// Blog issue: https://github.com/OpenLiberty/open-liberty/issues/24409
// Contact/Reviewer: ReeceNana,gkwan-ibm
// // // // // // // // 
[#SUB_TAG_0]
== Enabled the cloud-hosted version of the "Streaming messages between client and server services using gRPC" guide

2. Which Liberty feature(s) does your update relate to?
 
    new cloud-hosted guide
   
   </GHA-BLOG-RELATED-FEATURES>

   <GHA-BLOG-TARGET-PERSONA>
3. Who is the target persona? Who do you expect to use the update? eg application developer, operations.

    application developer

   </GHA-BLOG-TARGET-PERSONA>

   <GHA-BLOG-SUMMARY>
4. Provide a summary of the update, including the following points:
   
    - The cloud-hosted version of the link:https://openliberty.io/guides/grpc-intro.html[Streaming messages between client and server services using gRPC] guide is enabled. When you visit the guide, click the **Run in cloud** button on the top right code pane to launch it.

   
// DO NOT MODIFY THIS LINE. </GHA-BLOG-TOPIC> 

// // // // DO NOT MODIFY THIS COMMENT BLOCK <GHA-BLOG-TOPIC> // // // // 
// Blog issue: https://github.com/OpenLiberty/open-liberty/issues/24124
// Contact/Reviewer: aknguyen7,ReeceNana
// // // // // // // // 
[#SUB_TAG_1]
== Testing database connections in Open Liberty apps using Admin Center

3. Which Liberty feature(s) does your update relate to?
    
   Human-readable name (eg WebSockets feature):

              Admin Center feature
              Admin REST Connector feature
              MicroProfile OpenAPI feature
              JDBC feature

   Short feature name (eg websockets-1.0): 
   ```
              <feature>adminCenter-1.0</feature>
              <feature>restConnector-2.0</feature>
              <feature>mpOpenApi-3.0</feature>
              <feature>jdbc-4.3</feature>
    ```
   
   </GHA-BLOG-RELATED-FEATURES>

   <GHA-BLOG-TARGET-PERSONA>
4. Who is the target persona? Who do you expect to use the update? eg application developer, operations.
    
   operations and potentially application developer 
   </GHA-BLOG-TARGET-PERSONA>

   <GHA-BLOG-SUMMARY>
5. Provide a summary of the update, including the following points:
   
   - Looking for a simple way to test your database connections? In [Open Liberty 23.0.0.2], validate your connections using the Liberty Admin Center feature. The test connection will exercise the same code paths as your applications, giving you confidence in your server configuration. The Admin Center connection validation feature is enabled by REST APIs featured in this blog: https://openliberty.io/blog/2019/09/13/testing-database-connections-REST-APIs.html

   - For this example, we'll start by testing the server resource "DefaultDataSource" which is configured to connect to a Derby database using container authentication via an auth alias."
  
   Sample server.xml:

```
<server description="new server">

    <!-- Enable features -->
    <featureManager>
        <feature>adminCenter-1.0</feature>
        <feature>restConnector-2.0</feature>
        <feature>jdbc-4.3</feature>
        <feature>mpOpenApi-3.0</feature>
    </featureManager>

    <!-- To access this server from a remote client add a host attribute to the following element, e.g. host="*" -->
    <httpEndpoint id="defaultHttpEndpoint" httpPort="9080" httpsPort="9443"/>

    <library id="derby">
      <file name="${server.config.dir}/derby/derby.jar"/>
    </library>

    <dataSource id="DefaultDataSource">
      <jdbcDriver libraryRef="derby"/>
      <!-- Example properties referencing an in-memory Derby Embedded database -->
      <properties.derby.embedded databaseName="memory:defaultdb" createDatabase="create"/>
    </dataSource>

    <authData id="myAuth" user="dbuser" password="dbpass"/>

    <!-- Default SSL configuration enables trust for default certificates from the Java runtime --> 
    <ssl id="defaultSSLConfig" trustDefaultCerts="true"/>

    <remoteFileAccess>
       <writeDir>${server.config.dir}</writeDir>
    </remoteFileAccess>

    <basicRegistry id="basic">
       <user name="admin" password="adminpwd"/>
    </basicRegistry>

    <!-- Assign 'admin' to Administrator -->
    <administrator-role>
        <user>admin</user>
    </administrator-role>

</server>
```

In this server.xml example, you will need to add the derby jar to the server configuration or use your own database configuration.
   
At minimum you need:
```
        <feature>adminCenter-1.0</feature>
        <feature>restConnector-2.0</feature>
        <feature>mpOpenApi-3.0</feature>
```

In addition to JDBC you can also test connections to JCA, JMS and Cloudant resources.
```
       <feature>connectors-2.0</feature>
       <feature>cloudant-1.0</feature>
       <feature>messaging-3.0</feature>
```

Configure a Liberty server using the above server.xml for guidance and then start the server. Once started, you can check the logs to find the URL to navigate to the Admin Center. In the above example, you would navigate to the Admin Center using https://localhost:9443/adminCenter/.

Select Server Config tool.
!link:https://user-images.githubusercontent.com/30509453/215815658-934b3b55-2067-4b41-adfe-e69b5847c3a1.png[image]

Select Server.xml to edit.
!link:https://user-images.githubusercontent.com/30509453/215815845-c8816d68-ceb0-43ad-8858-ac6d9b04603e.png[image]

Navigate to the resource you would like to test and click the Test button.
!link:https://user-images.githubusercontent.com/30509453/215816370-d6b5407d-087c-4e74-98ce-d4d0d9abea10.png[image]

Choose which type of authentication your application uses:

For applications that use container authentication:
For this example, the config doesn't have default authentication specified on the datasource element nor are there any login modules configured, therefore you will need to specify an authentication alias by using the dropdown.

!link:https://user-images.githubusercontent.com/30509453/215816671-d8549d30-bf45-4c2c-8ac6-94c34332c22a.png[image]

For applications that use application authentication, choose the 'Application authentication' tab and fill in a valid user name and password for the database resource.

!link:https://user-images.githubusercontent.com/30509453/215816853-90e85c5a-2beb-4f66-bf82-b7304029b874.png[image]

If your application does not use a resource reference and you have not enableContainerAuthForDirectLookups="true" in the config element, then choose 'No resource reference' tab and fill in a valid user name and password for the database resource.

!link:https://user-images.githubusercontent.com/30509453/215817053-1c7c3d80-9661-417d-99d4-2f6a160576df.png[image]

Click the 'Connection Test' button and results will be displayed at the bottom. 
A successful Connection Test will look like this:

!link:https://user-images.githubusercontent.com/30509453/218870078-752a68af-b670-4de7-aff9-5160ab0c92ae.png[image]

A failed Connection Test will look like this:

!link:https://user-images.githubusercontent.com/30509453/218869737-5f8f9e7e-aafd-4235-9ecc-dbc9f393421f.png[image]

   
// DO NOT MODIFY THIS LINE. </GHA-BLOG-TOPIC> 

// // // // DO NOT MODIFY THIS COMMENT BLOCK <GHA-BLOG-TOPIC> // // // // 
// Blog issue: https://github.com/OpenLiberty/open-liberty/issues/23282
// Contact/Reviewer: jimblye,ReeceNana
// // // // // // // // 
[#SUB_TAG_2]
== Blog: New --timeout option for command: server stop

2. Which Liberty feature(s) does your update relate to?
    
    This relates to the command:  server stop
    
   </GHA-BLOG-RELATED-FEATURES>

   <GHA-BLOG-TARGET-PERSONA>
3. Who is the target persona? Who do you expect to use the update? eg application developer, operations.
          application developer, operations
   
   </GHA-BLOG-TARGET-PERSONA>

   <GHA-BLOG-SUMMARY>

4. Provide a summary of the update, including the following points:
   
   - A sentence or two that introduces the update to someone new to the general technology/concept.
A --timeout command line option is available for the command server stop.  This allows you to change the time out value used when waiting for the server to stop.

   - What was the problem before and how does your update make their life better? (Why should they care?)
The default timeout value is 30 seconds.  The --timeout option allows you to extend time time to wait for the server to stop in the case where the stop command is taking longer than 30 seconds.
   
   - Briefly explain how to make your update work. Include screenshots, diagrams, and/or code snippets, and provide a `server.xml` snippet.
   
   The timeout value can be specified in minutes, seconds or a combination of both.  If you specify a number, it is assumed to be the number of seconds.  If you want to specify minutes, place the letter 'm' directly after the number.  The letter 's' after the number means seconds.  Minutes and seconds can be combined, for example --timeout=2m30s which means 2 minutes and 30 seconds.   Examples:
   
```
   ./server stop                   // 30 seconds
   ./server stop --timeout=45      // 45 seconds
   ./server stop --timeout=45s     // 45 seconds
   ./server stop --timeout=3m20s   // 3 minutes, 20 seconds
```
   

   
   - Where can they find out more about this specific update (eg Open Liberty docs, Javadoc) and/or the wider technology?

   
// DO NOT MODIFY THIS LINE. </GHA-BLOG-TOPIC> 


For more details, check the LINK[LINK_DESCRIPTION].

// // // // // // // //
// In the preceding section:
// Replace TAG_X/SUB_TAG_X with the given tag of your secton from the contents list
// Replace SUB_FEATURE_TITLE/FEATURE_X_TITLE with the given title from the contents list 
// Replace FEATURE with the feature name for the server.xml file e.g. mpHealth-1.4
// Replace LINK with the link for extra information given for the feature
// Replace LINK_DESCRIPTION with a readable description of the information
// // // // // // // //

[#CVEs]
== Security vulnerability (CVE) fixes in this release
[cols="5*"]
|===
|CVE |CVSS Score |Vulnerability Assessment |Versions Affected |Notes

|Link[CVE-XXXX-XXXXX]
|Score
|vulnerability
|Affected versions
|Affected Features and other notes
|===
// // // // // // // //
// In the preceding section:
// If there were any CVEs addressed in this release, fill out the table.  For the information, reference https://github.com/OpenLiberty/docs/blob/draft/modules/ROOT/pages/security-vulnerabilities.adoc.  If it has not been updated for this release, reach out to Kristen Clarke or Michal Broz.
// Note: When linking to features, use the 
// `link:{url-prefix}/docs/latest/reference/feature/someFeature-1.0.html[Some Feature 1.0]` format and 
// NOT what security-vulnerabilities.adoc does (feature:someFeature-1.0[])
//
// If there are no CVEs fixed in this release, replace the table with: 
// "There are no security vulnerability fixes in Open Liberty [23.0.0.2]."
// // // // // // // //
For a list of past security vulnerability fixes, reference the link:{url-prefix}/docs/latest/security-vulnerabilities.html[Security vulnerability (CVE) list].


[#bugs]
== Notable bugs fixed in this release


Weâ€™ve spent some time fixing bugs. The following sections describe just some of the issues resolved in this release. If youâ€™re interested, hereâ€™s the  link:https://github.com/OpenLiberty/open-liberty/issues?q=label%3Arelease%3A23002+label%3A%22release+bug%22[full list of bugs fixed in 23.0.0.2].

* link:https://github.com/OpenLiberty/open-liberty/issues/24371[Server fails to start due to conflict on servlet feature]
+
When individually installing a set of EE7 or EE8 features, the server can fail to start due to a conflict on servlet features.  An example failure is below.
+
[1/10/23, 4:08:27:359 GMT] 00000027 id=         com.ibm.ws.kernel.feature.internal.FeatureManager            E CWWKF0033E: The singleton features servlet-3.1 and servlet-3.0 cannot be loaded at the same time.  The configured features servlet-3.1 and apiDiscovery-1.0 include one or more features that cause the conflict. Your configuration is not supported; update server.xml to remove incompatible features.
[1/10/23, 4:08:27:419 GMT] 00000027 id=         com.ibm.ws.logging.internal.impl.IncidentImpl                I FFDC1015I: An FFDC Incident has been created: "java.lang.IllegalArgumentException: Unable to load conflicting versions of features "com.ibm.websphere.appserver.servlet-3.1" and "com.ibm.websphere.appserver.servlet-3.0".  The feature dependency chains that led to the conflict are: com.ibm.websphere.appserver.servlet-3.1 and com.ibm.websphere.appserver.apiDiscovery-1.0 -> com.ibm.websphere.appserver.restHandler-1.0 -> io.openliberty.restHandler.internal-1.0 -> io.openliberty.webBundleSecurity.internal-1.0 -> io.openliberty.servlet.internal-3.0 -> com.ibm.websphere.appserver.servlet-3.0 

* link:https://github.com/OpenLiberty/open-liberty/issues/24293[Scheduled Futures leak resources from Managed Executor Services on application stop]
+
The [`futures` queue](https://github.com/OpenLiberty/open-liberty/blob/aa6a9f874b88a4940fc58fdb5e6a0184f148fbe4/dev/com.ibm.ws.concurrent/src/com/ibm/ws/concurrent/internal/ManagedScheduledExecutorServiceImpl.java#L63) in ManagedScheduledExecutorServiceImpl holds references to scheduled futures, even once they have completed.
+
The queue is periodically cleaned when new tasks are scheduled, by the private [`purgeFutures()` method](https://github.com/OpenLiberty/open-liberty/blob/aa6a9f874b88a4940fc58fdb5e6a0184f148fbe4/dev/com.ibm.ws.concurrent/src/com/ibm/ws/concurrent/internal/ManagedScheduledExecutorServiceImpl.java#L89), but otherwise they are not actively removed, and it isn't called when applications are shutdown. As purgeFutures is private, applications can't call it themselves.
+
There's also a [deactivate method](https://github.com/OpenLiberty/open-liberty/blob/aa6a9f874b88a4940fc58fdb5e6a0184f148fbe4/dev/com.ibm.ws.concurrent/src/com/ibm/ws/concurrent/internal/ManagedScheduledExecutorServiceImpl.java#L70-L82) that aggressively cleans up when the server is shutdown.
+
Our application does a lot of work via scheduled tasks, and in a test/dev environment we want to stop and start the application without restarting the server. We do have other memory leaks that we're tracking down, but this one is making it harder to see what else is going on.

* link:https://github.com/OpenLiberty/open-liberty/issues/24277[Backport CXF-8706: CXF MTOM handler allow content injection]
+

* link:https://github.com/OpenLiberty/open-liberty/issues/24276[Upgrade mime4j to 0.8.9]
+

* link:https://github.com/OpenLiberty/open-liberty/issues/24157[Validate HTTP header names]
+

* link:https://github.com/OpenLiberty/open-liberty/issues/24155[Memory leak in JaxRsFactoryImplicitBeanCDICustomizer]
+

* link:https://github.com/OpenLiberty/open-liberty/issues/24077[DoNotAllowDuplicateSetCookies http channel config option is not working]
+
The http channel config property DoNotAllowDuplicateSetCookies=true, when set, still allows duplicate set-cookie cookies in http responses.

* link:https://github.com/OpenLiberty/open-liberty/issues/24056[batch-2.1 feature content is active even when configuring batch-1.0 or 2.0]
+
Content added as part of the batch-2.1 feature update will be loaded and active even if the user configures the server for batch-1.0  or batch-2.0. This is unintended and may cause conflicts based on the user's environment.

* link:https://github.com/OpenLiberty/open-liberty/issues/24048[Possible performance issue in com.ibm.ws.wsat.service.impl.WebClientImpl]
+

* link:https://github.com/OpenLiberty/open-liberty/issues/24047[Memory in com.ibm.ws.wsat.service.WebClient when creating thread context class loaders]
+
Repeated calls to LogManager$Lock.getLogDomain(Bundle), each one adding a bundle named "gateway.bundle.Thread_Context...." to the "domains" HashMap in Felix SCR.  These entries never get removed and the Map keeps growing leading to a memory leak.
```
 at org/apache/felix/scr/impl/logger/LogManager$Lock.getLogDomain(LogManager.java:69)
 at org/apache/felix/scr/impl/logger/LogManager.getLogger(LogManager.java:174)
 at org/apache/felix/scr/impl/logger/ScrLogManager.bundle(ScrLogManager.java:97)
 at org/apache/felix/scr/impl/logger/ScrLogManager$ScrLoggerFacade.bundle(ScrLogManager.java:282)
 at org/apache/felix/scr/impl/BundleComponentActivator.(BundleComponentActivator.java:202)
 at org/apache/felix/scr/impl/Activator.loadComponents(Activator.java:552)
 at org/apache/felix/scr/impl/Activator.access$200(Activator.java:70)
 at org/apache/felix/scr/impl/Activator$ScrExtension.start(Activator.java:421)
 at org/apache/felix/scr/impl/AbstractExtender.createExtension(AbstractExtender.java:196)
 at org/apache/felix/scr/impl/AbstractExtender.modifiedBundle(AbstractExtender.java:169)
 at org/apache/felix/scr/impl/AbstractExtender.addingBundle(AbstractExtender.java:139)
 at org/apache/felix/scr/impl/AbstractExtender.addingBundle(AbstractExtender.java:49)
 at org/osgi/util/tracker/BundleTracker$Tracked.customizerAdding(BundleTracker.java:475)
 at org/osgi/util/tracker/BundleTracker$Tracked.customizerAdding(BundleTracker.java:1)
 at org/osgi/util/tracker/AbstractTracked.trackAdding(AbstractTracked.java:256)
 at org/osgi/util/tracker/AbstractTracked.track(AbstractTracked.java:229(Compiled Code))
 at org/osgi/util/tracker/BundleTracker$Tracked.bundleChanged(BundleTracker.java:450(Compiled Code))
 at org/eclipse/osgi/internal/framework/BundleContextImpl.dispatchEvent(BundleContextImpl.java:935(Compiled Code))
 at org/eclipse/osgi/framework/eventmgr/EventManager.dispatchEvent(EventManager.java:228(Compiled Code))
 at org/eclipse/osgi/framework/eventmgr/ListenerQueue.dispatchEventSynchronous(ListenerQueue.java:151)
 at org/eclipse/osgi/internal/framework/EquinoxEventPublisher.publishBundleEventPrivileged(EquinoxEventPublisher.java:229)
 at org/eclipse/osgi/internal/framework/EquinoxEventPublisher.publishBundleEvent(EquinoxEventPublisher.java:138)
 at org/eclipse/osgi/internal/framework/EquinoxEventPublisher.publishBundleEvent(EquinoxEventPublisher.java:130)
 at org/eclipse/osgi/internal/framework/EquinoxContainerAdaptor.publishModuleEvent(EquinoxContainerAdaptor.java:206(Compiled Code))
 at org/eclipse/osgi/container/Module.publishEvent(Module.java:499(Compiled Code))
 at org/eclipse/osgi/container/Module.start(Module.java:486)
 at org/eclipse/osgi/internal/framework/EquinoxBundle.start(EquinoxBundle.java:439)
 at com/ibm/ws/classloading/internal/GatewayBundleFactory.start(GatewayBundleFactory.java:129)
 at com/ibm/ws/classloading/internal/GatewayBundleFactory.createGatewayBundleClassLoader(GatewayBundleFactory.java:90)
 at com/ibm/ws/classloading/internal/ClassLoadingServiceImpl.createTCCL(ClassLoadingServiceImpl.java:633(Compiled Code))
 at com/ibm/ws/classloading/internal/ClassLoadingServiceImpl.access$200(ClassLoadingServiceImpl.java:102)
 at com/ibm/ws/classloading/internal/ClassLoadingServiceImpl$4.createInstance(ClassLoadingServiceImpl.java:593)
 at com/ibm/ws/classloading/internal/ClassLoadingServiceImpl$4.createInstance(ClassLoadingServiceImpl.java:590)
 at com/ibm/ws/classloading/internal/util/CanonicalStore.retrieveOrCreate(CanonicalStore.java:84(Compiled Code))
 at com/ibm/ws/classloading/internal/util/CanonicalStore.retrieveOrCreate(CanonicalStore.java:74)
 at com/ibm/ws/classloading/internal/ClassLoadingServiceImpl.createThreadContextClassLoader(ClassLoadingServiceImpl.java:590)
 at com/ibm/ws/classloading/internal/ClassLoadingServiceImpl.createThreadContextClassLoader(ClassLoadingServiceImpl.java:98)
 at com/ibm/ws/wsat/tm/impl/TranManagerImpl.getThreadClassLoader(TranManagerImpl.java:338)
 at com/ibm/ws/wsat/service/impl/WebClientImpl$9.run(WebClientImpl.java:218)
 at java/security/AccessController.doPrivileged(AccessController.java:738(Compiled Code))
 at com/ibm/ws/wsat/service/impl/WebClientImpl.invoke(WebClientImpl.java:214)
 at com/ibm/ws/wsat/service/impl/WebClientImpl.prepared(WebClientImpl.java:146)
 at com/ibm/ws/wsat/tm/impl/CoordinatorResource.replayCompletion(CoordinatorResource.java:43)
 at com/ibm/tx/jta/embeddable/impl/WSATRecoveryCoordinator.replayCompletion(WSATRecoveryCoordinator.java:133)
 at com/ibm/tx/jta/embeddable/impl/EmbeddableTransactionImpl.replay(EmbeddableTransactionImpl.java:1067)
 at com/ibm/tx/jta/embeddable/impl/EmbeddableTransactionImpl.retryCompletion(EmbeddableTransactionImpl.java:1020)
 at com/ibm/tx/jta/embeddable/impl/EmbeddableTransactionImpl.recover(EmbeddableTransactionImpl.java:770)
 at com/ibm/tx/jta/impl/RecoveryManager.resync(RecoveryManager.java:1457)
 at com/ibm/tx/jta/impl/RecoveryManager.performResync(RecoveryManager.java:2188)
 at com/ibm/tx/jta/impl/RecoveryManager.run(RecoveryManager.java:2143)
 at java/lang/Thread.run(Thread.java:830)
```
+
Ultimately this is getting driven by this code:
+
https://github.com/OpenLiberty/open-liberty/blob/14225e8f48a9040e72e0128f63ecd28de4f57f0f/dev/com.ibm.ws.wsat.common/src/com/ibm/ws/wsat/service/impl/WebClientImpl.java#L214-L235
 
That code seems to have a very large overhead to create a new TCCL each time for the WebClientImpl class `tranService.getThreadClassLoader(WebClientImpl.class);`.  That leads to a bug in Felix SCR which has been fixed in version 2.2.6 (https://issues.apache.org/jira/browse/FELIX-6581).
+

* link:https://github.com/OpenLiberty/open-liberty/issues/24007[server dump command fails in WL on IBM i]
+
When the `server dump` command is run on the IBM i platform in QSH, it fails with a message similar to this one:
```
/QIBM/ProdData/WebSphere/LibertyServer/V22.0.0.13/Base/bin/server dump  dumptest
+
Dumping server dumptest.                                                                         
The command introspect#23.01.20_20.22.52 failed because of a communication error with the server.
Server dumptest dump failed. Check server logs for details.
```
+
and an FFDC file is created with
```
------Start of DE processing------ = [1/20/23 20:22:52:492 CST]                                                      
Exception = java.lang.IllegalStateException                                                                          
Source = com.ibm.ws.kernel.launch.internal.ServerCommandListener                                                     
probeid = 437                                                                                                        
Stack Dump = java.lang.IllegalStateException: introspections directory could not be created.                         
 at com.ibm.ws.kernel.launch.internal.FrameworkManager$IntrospectionContext.introspectAll(FrameworkManager.java:1240)
 at com.ibm.ws.kernel.launch.internal.FrameworkManager.introspectFramework(FrameworkManager.java:1214)               
 at com.ibm.ws.kernel.launch.internal.ServerCommandListener.executeCommand(ServerCommandListener.java:467)           
 at com.ibm.ws.kernel.launch.internal.ServerCommandListener.acceptAndExecuteCommand(ServerCommandListener.java:427)  
 at com.ibm.ws.kernel.launch.internal.ServerCommandListener.startListening(ServerCommandListener.java:355)           
 at com.ibm.ws.kernel.launch.internal.FrameworkManager$6.run(FrameworkManager.java:891)                              
```
+
If there is a stack trace, please include the FULL stack trace (without any `[internal classes]` lines in it). To find the full stack trace, you may need to check in `$WLP_OUTPUT_DIR/messages.log`

* link:https://github.com/OpenLiberty/open-liberty/issues/24001[Fix configuration attribute name used in CWWKS1738E message]
+

When using an OIDC RP via the social login feature, it's possible for the wrong configuration attribute name to be included in the error message emitted when the expected user name claim is not in the ID token returned from the OP. An example of such an error message is below.
+
> [1/20/23, 12:26:44:281 CST] 00000044 .ws.security.openidconnect.clients.common.AttributeToSubject E CWWKS1738E: The OpenID Connect client [client01] failed to authenticate the JSON Web Token because the claim [someBadName] specified by the [userIdentifier] configuration attribute was not included in the token.
+
The error message refers to the `userIdentifier` configuration attribute. However, in the social login feature the equivalent configuration attribute is actually called `userNameAttribute`. The message needs to be updated to use the correct attribute name.

* link:https://github.com/OpenLiberty/open-liberty/issues/23976[Add option to support old format of start-info in multipart/related SOAP messages]
+

* link:https://github.com/OpenLiberty/open-liberty/issues/23954[The authCache->cacheRef and webAppSecurity->loggedOutCookieCacheRef server configuration elements are not included in the documentation.]
+

* link:https://github.com/OpenLiberty/open-liberty/issues/23676[Transaction manager unavailable when stopping resource adapters during server shutdown]
+
Transaction manager might not be available when resource adapter is stopped.
+
```
java.lang.IllegalStateException java.lang.IllegalStateException
	at com.ibm.tx.jta.impl.TranManagerImpl.<init>(TranManagerImpl.java:61)
	at com.ibm.tx.jta.embeddable.impl.EmbeddableTranManagerImpl.<init>(EmbeddableTranManagerImpl.java:28)
	at com.ibm.tx.jta.embeddable.impl.EmbeddableTranManagerSet$1.initialValue(EmbeddableTranManagerSet.java:55)
	at com.ibm.tx.jta.embeddable.impl.EmbeddableTranManagerSet$1.initialValue(EmbeddableTranManagerSet.java:52)
	at java.lang.ThreadLocal.setInitialValue(ThreadLocal.java:193)
	at java.lang.ThreadLocal.get(ThreadLocal.java:183)
	at com.ibm.tx.jta.embeddable.impl.EmbeddableTranManagerSet.self(EmbeddableTranManagerSet.java:66)
	at com.ibm.tx.jta.embeddable.impl.EmbeddableTranManagerSet.self(EmbeddableTranManagerSet.java:34)
	at com.ibm.tx.jta.impl.TranManagerSet.suspend(TranManagerSet.java:149)
	at [com.ibm.ws](http://com.ibm.ws/).uow.embeddable.EmbeddableUOWManagerImpl.suspend(EmbeddableUOWManagerImpl.java:63)
	at [com.ibm.ws](http://com.ibm.ws/).transaction.context.internal.TransactionContextImpl.taskStarting(TransactionContextImpl.java:105)
	at [com.ibm.ws](http://com.ibm.ws/).context.service.serializable.ThreadContextDescriptorImpl.taskStarting(ThreadContextDescriptorImpl.java:413)
	at [com.ibm.ws](http://com.ibm.ws/).jca.internal.BootstrapContextImpl.startTask(BootstrapContextImpl.java:1170)
	at [com.ibm.ws](http://com.ibm.ws/).jca.internal.BootstrapContextImpl.stopResourceAdapter(BootstrapContextImpl.java:1109)
	at [com.ibm.ws](http://com.ibm.ws/).jca.internal.BootstrapContextImpl.deactivate(BootstrapContextImpl.java:664)
```

* link:https://github.com/OpenLiberty/open-liberty/issues/23410[UnrecoverableKeyException occurs when using WS-Security Callback handler on Liberty 22.0.0.9]
+

* link:https://github.com/OpenLiberty/open-liberty/issues/16007[Runtime injection of detailed method trace fails for a CDI bean]
+


// // // // // // // //
// In the preceding section:
// For this section ask either Michal Broz or Tom Evans or the #openliberty-release-blog channel for Notable bug fixes in this release.
// Present them as a list in the order as provided, linking to the issue and providing a short description of the bug and the resolution.
// If the issue on Github is missing any information, leave a comment in the issue along the lines of:
// "@[issue_owner(s)] please update the description of this `relesae bug` using the [bug report template](https://github.com/OpenLiberty/open-liberty/issues/new?assignees=&labels=release+bug&template=bug_report.md&title=)" 
// Feel free to message the owner(s) directly as well, especially if no action has been taken by them.
// For inspiration about how to write this section look at previous blogs e.g- 20.0.0.10 or 21.0.0.12 (https://openliberty.io/blog/2021/11/26/jakarta-ee-9.1.html#bugs)
// // // // // // // //


// // // // // // // //
// If there were updates to guides since last release, keep the following, otherwise remove section.
// Check with Gilbert Kwan, otherwise Michal Broz or YK Chang
// // // // // // // //
[#guides]
== New and updated guides since the previous release
As Open Liberty features and functionality continue to grow, we continue to add link:https://openliberty.io/guides/?search=new&key=tag[new guides to openliberty.io] on those topics to make their adoption as easy as possible.  Existing guides also receive updates to address any reported bugs/issues, keep their content current, and expand what their topic covers.

// // // // // // // //
// In the following section, list any new guides, or changes/updates to existing guides.  
// The following is an example of how the list can be structured (similar to the bugs section):
// * link:{url-prefix}/guides/[new/updated guide].html[Guide Title]
//  ** Description of the guide or the changes made to the guide.
// // // // // // // //


== Get Open Liberty 23.0.0.2 now

Available through <<run,Maven, Gradle, Docker, and as a downloadable archive>>.
