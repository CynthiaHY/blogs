---
layout: post
title: "Antora an open source solution to generate our docs"
categories: blog
author_picture: https://avatars3.githubusercontent.com/dmuelle
author_github: https://github.com/dmuelle
seo-title: Open Liberty and Antora an open source solution to generate our docs
seo-description: Open Liberty documentation recently moved to the Antora framework to generate and manage our docs. This post looks at the three most significant motivating factors behind this move: navigation, versioning, and community support.
blog_description: "Open Liberty documentation recently moved to the Antora framework to generate and manage our docs. This post looks at the three most significant motivating factors behind this move: navigation, versioning, and community support."
open-graph-image: https://openliberty.io/img/twitter_card.jpg
---
= Antora: an open source solution for our docs
David Mueller <https://github.com/dmuelle

Open Liberty documentation recently moved to the Antora framework to generate and manage our docs. This post looks at the three most significant motivating factors behind this move: navigation, versioning, and community support.

.The Antora repository
image::img/blog/antora.png[screen capture of the Antora repository,align="center"]

== What is Antora?

https://antora.org/[Antora] is a self-described "multi-repository documentation site generator for tech writers who love writing in AsciiDoc". This mission statement appealed to our documentation team because it puts the focus squarely on writers and writing. Antora specifically targets technical documentation and offers unique solutions for some of the most prevalent challenges of writing, hosting, and maintaining meaningful documentation. https://asciidoctor.org/docs/what-is-asciidoc/[Asciidoc] is a lightweight markup language, similar to Markdown, but more flexible and better suited to the structural requirements of technical documentation.

Both Antora and Asciidoc are designed on the premiss that writers want to spend their time writing, not fussing around with complex formatting or elaborate CMS processes. The underlying simplicity of these tools appealed to us, but Antora also addressed some specific challenges that we faced as our docs evolved along with the rest of the Open Liberty project.

== New docs, new framework

Our documentation was already written in Asciidoc, but before our move to Antora, our doc site generator was a custom implementation based around Jekyll. We started with a relatively small doc set that consisted of just a handful concept topics together with a streamlined reference section for features and configuration elements. The docs navigation was a simple alphabetical list that was autogenerated by the site build. At that time, the Open Liberty project was on a roughly 16-week release cycle.

However, to better support a continuous integration workflow and provide faster update cycles for our users, the project soon accelerated to a four-week release cycle. As the pace of development increased, so did the volume of the documentation. Within the space of a year, the number of topics almost tripled and we enhanced our reference documentation with a collection of concise, grab-and-go configuration examples for common tasks. Before we knew, our documentation family had outgrown its quaint apartment and was ready to move into a modern home.

== Reaping the benefits

A faster release cycle resulted in more versions of the documentation to host and maintain. A larger collection of docs meant that our users needed better navigation. And although the challenges that we faced were common to many documentation projects, we also had to address requirements that were specific to the structure and design of Open Liberty. We needed the flexibility to inject our own customizations into whatever framework we used. On each of these accounts, Antora presents novel solutions.

=== Meaningful navigation
Antora treats https://docs.antora.org/antora/2.3/features/#navigation-as-content[navigation as content]. Site navigation is defined in a simple Asciidoc list that requires no special formatting. This approach makes it easy to update and maintain the navigation and to experiment with different schemas. Breaking the navigation into meaningful sections and providing helpful cross-references to other areas of the Open Liberty site was simple to configure. We were able to test out different ideas and change them quickly when we found a better option. We modeled our updated navigation categories on the existing categories in our link:guides/[guides], with which many of our users are already familiar. As our docs continue to grow and evolve, creating new categories or editing existing ones is as simple as adding and removing items from a list.

=== Versatile versioning
With a 4-week release cycle, new functions are constantly being developed, and with them, new documentation. The Open Liberty commitment to link:/docs/latest/zero-migration-architecture.html[zero migration] means our users must be able to move easily across runtime versions, mixing and matching features according to the needs of their applications. The documentation must support this flexibility b y making it easy to find the relevant documentation for any version.

The Antora approach to versioning treats https://docs.antora.org/antora/2.2/component-versions/#branches-as-versions[each version of the docs as a distinct branch] in the Git structure. Each new branch is created from the existing reference of the previous version so that only the updated content changes when a new branch is added. This approach makes it easy for our team to compare and manage the different versions of a doc. And for our users, moving between doc versions is as simple as selecting the relevant version from the version picker at the beginning of our sidebar navigation.

.The version picker
image::img/blog/version-picker.png[screen capture of the version picker,align="center"]

=== A vibrant community
Thanks to the vibrant and helpful Antora community, we've received plenty of help along our journey and look forward to contributing back- whether with code or by answering other users' questions. The beauty of an open source project like Antora (and Open Liberty) is that nothing happens in a bubble and all participants can benefit from https://en.wikipedia.org/wiki/Network_effect#Technology_lifecycle[the network effect]. New capabilities and bug fixes are added with https://gitlab.com/antora/antora[each Antora release]. We are happy to pass these benefits along to our users and share our own experience back to the community however we can.

== Docs as code
The Antora multi-repository framework supports a https://www.writethedocs.org/guide/docs-as-code/[Docs as Code] approach to documentation, wherein documentation is written with the same tools as code and managed from the same repositories. This framework means you can build your docs from multiple sources that are maintained in the same repositories as the code, rather than siloed in a CMS. Antora treats each repository as a https://docs.antora.org/antora/2.2/component-structure/#what-is-a-documentation-component[component], or a collection of files that share metadata. For Open Liberty, this framework enables us to manage different sections of our documentation, such as concept topics, Javadoc, and feature  reference material, in a loosely coupled way. We can make changes and improvements to different aspects of the docs without having to overhaul the entire collection. It also enables us to build some of this content directly out of the source code files into its own repo, which makes troubleshooting and maintenance more straightforward.

If you'd like to learn more about the specifics of the Antora framework, check this in-depth analysis from Matthew Setter:
https://matthewsetter.com/antora/three-core-concepts/[Antora 101: The Three Core Concepts You Need To Know To Use It Fully].

Thanks for joining us on our Antora journey, and for checking out link:docs/latest/overview.html[our docs site]. As always, if you have any questions or feedback, link:https://groups.io/g/openliberty[we'd love to hear from you].
