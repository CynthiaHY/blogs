---
layout: post
title: "Jakarta takes over with improved support across a range of features in Open liberty 22.0.0.11-beta!"
# Do NOT change the categories section
categories: blog
author_picture: https://avatars3.githubusercontent.com/reecenana
author_github: https://github.com/reecenana
seo-title: Jakarta takes over with improved support across a range of features in Open liberty 22.0.0.11-beta! - OpenLiberty.io
seo-description: Jakarta EE 10 has improved support provided across features such as mail, persistence and connectors to enhance users performance
and experience when developing.
blog_description: Jakarta EE 10 has improved support provided across features such as mail, persistence and connectors to enhance users performance
and experience when developing.
open-graph-image: https://openliberty.io/img/twitter_card.jpg
---
= Jakarta takes over with improved support across a range of features in Open liberty 22.0.0.11-beta!
Reece Nana <https://github.com/reecenana>
:imagesdir: /
:url-prefix:
:url-about: /
//Blank line here is necessary before starting the body of the post.

// // // // // // // //

Jakarta EE 10 has improved support provided across features such as mail, persistence and connectors to enhance users performance
and experience when developing.

With the new Jakarta Mail 2.1 feature, you can now entirely remove direct dependancy of the specification API's on the reference implementations, reducing the time taken to compile your Jakarta code. Open Liberty is keeping our connectors implementation up to date with the latest specification.
Also, the new Open Liberty servlet 6.0 feature provides a new ability to set any attribute using a cookie's setAttribute method! 


// // // // // // // //

The link:{url-about}[Open Liberty] 22.0.0.11-beta includes the following beta features (along with link:{url-prefix}/docs/latest/reference/feature/feature-overview.html[all GA features]):

* <<mail, Jakarta Mail 2.1>>
* <<support,  Jakarta EE 10: Support Jakarta Servlet 6.0>>
* <<connectors, Connectors-2.1>>
* <<persistence, Persistence 3.1>>
* <<openliberty, Open Liberty Instant On With Checkpoint and Restore>>

// // // // // // // //

// https://github.com/OpenLiberty/open-liberty/issues/22423
[#mail]
== Jakarta Mail 2.1

Jakarta Mail 2.1 support allows your Jakarta EE 10 applications to send, read, and edit E-Mail from mail servers via the Jakarta Mail APIs.

The biggest change to Jakarta Mail 2.1 specification is the removal of the direct dependency of the specification APIs on the reference implementation. This means that in certain cases there will no longer be a need to compile your Jakarta Mail code against both the specification and the reference implementation (provided you aren't making any direct calls to the RI in your code).

 In order to facilitate this, Jakarta Mail 2.1 also introduced a utility interface link:https://jakarta.ee/specifications/mail/2.1/apidocs/jakarta.mail/jakarta/mail/util/streamprovider[jakarta.mail.util.StreamProvider], that can be easily obtaining via the j`akarta.mail.Session.getStreamProvider()` method. You can then use the StreamProviders to obtain Encoded/Decoded Streams for any of the encoding/decoding methods mail-2.1 supports.

 The mail-2.1 feature can be enabled via the server.xml:

[source, xml]
----
  <featureManager>
    <feature>mail-2.1</feature>
  </featureManager>
----

More information about the Jakarta Mail 2.1 specification can be found at the link:https://eclipse-ee4j.github.io/mail/[Jakarta Mail] project website.

// https://github.com/OpenLiberty/open-liberty/issues/22415
[#support]
==  Jakarta EE 10: Support Jakarta Servlet 6.0

The Open Liberty servlet-6.0 feature is an implementation of the Jakarta EE 10 Servlet 6.0 Specification. It includes a number of new features, specification clarifications as well as deprecation features.

Prior to servlet-6.0, there were only a few specific methods that could be set for an application's cookie attributes. There was not an easy way for application to set a new attribute (for example, the recent browser security's SameSite attribute). 

One of the new features in servlet-6.0 is the ability to set any attribute using a Cookie's setAttribute method. In addition, servlet-6.0 also introduces some new request APIs to aid the application's debugging. Application developer can track or refer to a request using the ServletRequest's getRequestId or obtain details of the network connection that is being used by the request by calling ServletRequest's getServletConnection.

You can activate the features incorperating the following in your `server.xml`:

[source, xml]
----
   <featureManager>
       <feature>servlet-6.0</feature>
   </featureManager>
----

The Jakarta Servlet 6.0 Specification and Javadocs can be found link:https://jakarta.ee/specifications/servlet/6.0/[here].


// https://github.com/OpenLiberty/open-liberty/issues/22115
[#connectors]
== Connectors-2.1

This feature allows Open Liberty users that want to use the latest release of the link:https://github.com/eclipse-ee4j/jca-api[Jakarta resource specification] within their application.

The main update to connectors to come out of this feature is the addition of Java generics support to the jakarta.resource.cci.ResourceFactory, jakarta.resource.cci.IndexedRecord, and jakarta.resource.cci.MappedRecord classes 

Open Liberty is keeping our connectors implementation up to date with the latest specification.

You can activate the features incorperating the following in your `server.xml`:
[source, xml]
----
<server>
 <featureManager>
   <feature>connectors-2.1</feature>
 </featureManager>
</server>
----

All other `resourceAdapter` configurations within server.xml can remain unchanged for current applications.

You can find out more about this specific update below:

* link:https://github.com/eclipse-ee4j/jca-api[Spec Project]
* link:https://mvnrepository.com/artifact/jakarta.resource/jakarta.resource-api[Spec API]
* link:https://jakarta.ee/specifications/connectors/2.1/apidocs/jakarta.resource/module-summary.html[Spec Javadoc]


// https://github.com/OpenLiberty/open-liberty/issues/22078
[#persistence]
== Persistence 3.1

Jakarta Persistence API is a richly featured API which provides object-model approach to persisting, fetching, and modifying data stored on a Relational Database System.

JPA has been around since EE 5, but before JPA you had to use EJB's Bean or Container managed entities, or raw JDBC to interact with database storage.


// https://github.com/OpenLiberty/open-liberty/issues/21977
[#openliberty]
== Open Liberty Instant On With Checkpoint and Restore


To enable the new beta features in your app, add them to your `server.xml`:

[source, xml]
----

----
// // // // // // // //

[#run]
=== Try it now 

To try out these features, just update your build tools to pull the Open Liberty All Beta Features package instead of the main release. The beta works with Java SE XX, Java SE 17, Java SE 11, and Java SE 8.

// // // // // // // //
// In the preceding section:
// Check if a new non-LTS Java SE version is supported that needs to be added to the list (17, 11, and 8 are LTS and will remain for a while)
// // // // // // // //

If you're using link:{url-prefix}/guides/maven-intro.html[Maven], here are the coordinates:

[source,xml]
----
<dependency>
  <groupId>io.openliberty.beta</groupId>
  <artifactId>openliberty-runtime</artifactId>
  <version>22.0.0.11-beta</version>
  <type>pom</type>
</dependency>
----

Or for link:{url-prefix}/guides/gradle-intro.html[Gradle]:

[source,gradle]
----
dependencies {
    libertyRuntime group: 'io.openliberty.beta', name: 'openliberty-runtime', version: '[22.0.0.11-beta,)'
}
----

Or take a look at our link:{url-prefix}/downloads/#runtime_betas[Downloads page].

[#feedback]
== We welcome your feedback

Let us know what you think on link:https://groups.io/g/openliberty[our mailing list]. If you hit a problem, link:https://stackoverflow.com/questions/tagged/open-liberty[post a question on StackOverflow]. If you hit a bug, link:https://github.com/OpenLiberty/open-liberty/issues[please raise an issue].


