---
layout: post
title: "Configure trustedHeaderOrigin and trustedSensitiveHeaderOrigin to be configured with a IP segment with Open Liberty 21.0.0.2"
categories: blog
author_picture: https://avatars3.githubusercontent.com/jakub-pomykala
author_github: https://github.com/jkaub-pomykala
seo-title: Configure trustedHeaderOrigin and trustedSensitiveHeaderOrigin to be configured with a IP segment with Open Liberty 21.0.0.2 - OpenLiberty.io
seo-description: With Open Liberty 21.0.0.2 you can now configure `trustedHeaderOrigin` and `trustedSensitiveHeaderOrigin` using IP address wildcards and hostnames. Also included a number of significant bug fixes.
blog_description: With Open Liberty 21.0.0.2 you can now configure `trustedHeaderOrigin` and `trustedSensitiveHeaderOrigin` using IP address wildcards and hostnames. Also included a number of significant bug fixes.
open-graph-image: https://openliberty.io/img/twitter_card.jpg
---
= Configure trustedHeaderOrigin and trustedSensitiveHeaderOrigin to be configured with a IP segment with Open Liberty 21.0.0.2
Jakub Pomykala <https://github.com/jakub-pomykala>
:imagesdir: /
:url-prefix:
:url-about: /


// tag::intro[]

With Open Liberty 21.0.0.2 you can now configure `trustedHeaderOrigin` and `trustedSensitiveHeaderOrigin` using IP address wildcards and hostnames. Also included a number of significant bug fixes.

In link:{url-about}[Open Liberty] 21.0.0.2:

* <<trustedHeader, trustedHeaderOrigin Configuration Improvements>>
* <<bugs, Significant bugs fixed in this release>>


View the list of fixed bugs in link:https://github.com/OpenLiberty/open-liberty/issues?q=label%3Arelease%3ARELEASE_VERSION+label%3A%22release+bug%22[21.0.0.2].
// end::intro[]


// tag::run[]
[#run]

== Run your apps using 21.0.0.2

If you're using link:{url-prefix}/guides/maven-intro.html[Maven], here are the coordinates:

[source,xml]
----
<dependency>
    <groupId>io.openliberty</groupId>
    <artifactId>openliberty-runtime</artifactId>
    <version>21.0.0.2</version>
    <type>zip</type>
</dependency>
----

Or for link:{url-prefix}/guides/gradle-intro.html[Gradle]:

[source,gradle]
----
dependencies {
    libertyRuntime group: 'io.openliberty', name: 'openliberty-runtime', version: '[21.0.0.2,)'
}
----

Or if you're using Docker:

[source]
----
FROM open-liberty
----
//end::run[]

Or take a look at our link:{url-prefix}/downloads/[Downloads page].

[link=https://stackoverflow.com/tags/open-liberty]
image::img/blog/blog_btn_stack.svg[Ask a question on Stack Overflow, align="center"]

//tag::features[]

[#trustedHeader]
=== HTTP Channel Configuration Improvements

"WebSphere private headers" in the form `$WSXX` are used by WebSphere-aware proxies to provide information about original requests. The values provided by these headers are made available to the application via `ServletRequest` APIs like `getRemoteHost()`. Two HTTP Dispatcher custom properties are provided by Liberty to control over which remote hosts are allowed to send WebSphere private headers: `trustedHeaderOrigin` and `trustedSensitiveHeaderOrigin`. Ideally, these properties should be configured to only trust known proxy servers which will be forwarding requests to the Liberty server.

Previously, `trustedHeaderOrigin` and `trustedSensitiveHeaderOrigin` only accepted `*`, `none`, or a list of full IP addresses (eg. `"127.0.0.1, 192.168.6.6"`). As requested by customers, both properties can now additionally be configured with IP address wildcards and hostnames. As an example, the following list which will be valid for either property:`"localhost, 127.0.0.1, 192.168.*.*, 0:0:0:0:0:ffff:*:*, *.ibm.com"`

The same list as a server.xml example:
```    
<httpDispatcher trustedHeaderOrigin="*" trustedSensitiveHeaderOrigin="localhost, 127.0.0.1, 192.168.*.*, 0:0:0:0:0:ffff:*:*, *.ibm.com"/>
```

For more information about these properties, see link:{url-prefix}docs/21.0.0.2/reference/config/httpDispatcher.html#[Open Liberty docs on httpDispatcher]


Add the feature to the `server.xml`:

[source, xml]
----
<server>
  <featureManager>
    <feature>FEATURE</feature>
  </featureManager>
</server>
----


[#bugs]
== Significant bugs fixed in this release


We’ve spent some time fixing bugs. The following sections describe just some of the issues resolved in this release. If you’re interested, here’s the  link:https://github.com/OpenLiberty/open-liberty/issues?q=label%3Arelease%3A21002+label%3A%22release+bug%22[full list of bugs fixed in 21.0.0.2].

// // // // // // // //
// Above:
// Replace RELEASE_VERSION with the the version number of Open Liberty. e.g. 20.0.0.10
// For this section ask either Tom Evens, Michal Broz or the #openliberty-release-blog channel for significant bug fixes in this release.
// If the issue on Github is missing any information do not hesitate to message the person that fixed the bug.
// For inspiration about how to write this section look at previous blogs e.g- 20.0.0.10
// // // // // // // //


== Get Open Liberty 21.0.0.2 now

Available through <<run,Maven, Gradle, Docker, and as a downloadable archive>>.
